1. rails new photo-app
2. cd photo-app
3. rails s -b 0.0.0.0
4. rails generate controller welcome index 
	- Setup home page. (controller, view, route)
5. Route file - root 'welcome#index'
6. views/welcome/index.html.erb 
	- Change to <h1>Welcome to Photo App</h1>
7. Intialize Git Repository
	- git init
	- git add -A
	- git commit -m "Initial commit with home page"
8. Pull up Gemfile
	- move gem 'sqlite3' below 
	  group :development, : test do
9. Add to bottom of Gemfile
	group :production do
  
	  gem 'pg'
  
	  gem 'rails_12factor'

   	end
10. bundle install --without production	

GITHUB SETUP
11. Go to GitHub and create new github repository.	
12. git remote add origin https://github.com/--/--.git
13. git push -u origin master

HEROKU SETUP
14. heroku create
15. heroku rename norwegimo-photo-app
16. git status - check to see if any
17. git add -A
18. git commit -m "Make production ready"
19. git push
20. git push heroku master

AUTHENTICATION SETUP
21. Add gem 'devise' if not already there.
22. Add gem 'twitter-bootstrap-rails'
23. Add gem 'devise-bootstrap-views'
24. bundle install --without production

- DEVISE SETUP
25. rails generate devise:install
26. rails generate devise user

ADDING CONFIRMABLEs
27. Open migration file
	- db/migrate/--	
	- uncomment the ## Confirmable
28. Open models/user.rb
	- after :registerable ADD :confirmable,	
29. rake db:migrate
30. rails s -b 0.0.0.0	
31. Open controllers/application_controller.rb
	- Add before_action :authenticate_user!
32. Refresh Localhost 3000 it's going to bring up signin.
33. Add following to not have signin on welcome page.
	- skip_before_action :authenticate_user!, only: [:index]	

ADD STYLING
34. rails generate bootstrap:install static
35. rails generate bootstrap:layout application (Y)
36. rails g devise:views:locale en (I ended up having to copy the file due to SSL cert errors)
	- https://github.com/tigrish/devise-i18n/blob/master/rails/locales/en.yml
	- to config/locales/en.yml
37. rails g devise:views:bootstrap_templates
38. Open assets/stylesheets/application.css
	- Add *= require devise_bootstrap_views

ADD SENDGRID (email verification via Heroku)
39. heroku addons:create sendgrid:starter (need to have verfied CC with Heroku) - free service 450 emails a day
40. Open heroku go to photo-app
	- Select Resouces
	- Select Sendgrid (sends you to Sendgrid account)
	- heroku config:set SENDGRID_USERNAME=app74529421@heroku.com
	- heroku config:set SENDGRID_PASSWORD=****************
		To find username and password goto heroku app settings reveal config-vars

****************can't find hidden file .zshrc to update***************** 
		- export SENDGRID_USERNAME=
		- export SENDGRID_PASSWORD=

41. Open config/environment.rb
	ActionMailer::Base.smtp_settings = {
  
	  :address => 'smtp.sendgrid.net',
  
	  :port => '587',
  
	  :authentication => :plain,
  	
	  :user_name => ENV['SENDGRID_USERNAME'],
  
	  :password => ENV['SENDGRID_PASSWORD'],
  
	  :domain => 'heroku.com',
  
	  :enable_starttls_auto => true
	
	
}	

42. Open config/environments/development.rb
	- config.action_mailer.delivery_method = :test
  
	- config.action_mailer.default_url_options = { :host => 'http://localhost:3000'}
	 
43. Open config/environments/development.rb
	- config.action_mailer.delivery_method = :smtp
  
	- config.action_mailer.default_url_options = { :host => 'norwegimo-photo-app.herokuapp.com', :protocol => 'https'}

	

44. Start rails server
	- 3000/users/sign_up
	- sign up 
	- receive message saying confirmation link has been sent to email.
	- since this is in the test environment it is sent to the server
	- copy the link ie - http://localhost:3000/users/confirmation?confirmation_token=eYFHL_JZXHxt3oHJN8dE&amp;locale=en
	- you should receive message your email address has been confirmed.

UPDATE NAVIGATION

45. Open views/layouts/application.html.erb
	- get rid of sidebar.
	- add following after UL in nav:
<ul class="nav navbar-right col-md-4">
            
 <% if current_user %>
            
  <li class="col-md-8 user-name">
              
   <%= link_to ('<i class="fa fa-user"></i> ' + truncate(current_user.email,length: 25)).html_safe,edit_user_registration_path,
title: 'Edit Profile' %>

  </li>
            
  <li class="col-md-1"> </li>

  <li class="col-md-3 logout">
   <%= link_to('Logout', destroy_user_session_path,
class: 'btn btn-xs btn-danger',title: 'Logout',:method => :delete) %>
  </li>
 <% else %>
            
  <li class="col-md-4 pull-right">

   <%= link_to('Sign In', new_user_session_path, class: 'btn btn-primary', title: 'Sign In') %>

  </li>
            
 <% end %>
          
</ul>

46. Add CSS rules

.user-name {
  padding: 0 !important ;
  padding-left: 5px;
  padding-top: 15px !important;
  text-align: center;

  a {
    color: black !important;
    margin: 0 !important;
    padding: 5px!important;
  }

  a:hover, a:focus {
  color: #000 !important;
  }
}

.logout {
  padding-left: 0;
}

.nav.navbar-right {
  padding-bottom: 10px;
  padding-top: 5px;
}

.nav.navbar-nav {
  .navbar-link {
    border-radius: 5px;
    color: #fff;
    margin-top: 15px;
    padding: 8px;
  }

  .navbar-link:focus, .navbar-link:hover {
    background: #3071a9;
    color: #fff;
  }

  li a {
    margin-right: 5px;
  }
}

.nav.navbar-right li {
  .btn {
    color: #fff !important;
    margin-top: 5%;
  }

  .btn-danger:hover, .btn-danger:focus {
    background-color: darken(#d9534f,20%) !important;
  }

  .btn-primary:hover, .btn-primary:focus {
    background-color: darken(#428bca,20%) !important;
  }
}

.btn-primary:visited, .btn-danger:visited {
  color: #fff;
}

47. Commit and Git push and Heroku push master.
48. heroku run rake db:migrate

49. Test in production (Heroku)
	-create new user to REAL email.
	-you can check heroku log (if you want to see before email is received).

50. To change confirmation email from address name:
	-config/initializers/devise.rb
	-config.mailer_sender = 'donot-reply@example.com'


---------------
BUILD HOME PAGE
---------------

<% if current_user %>

<h3>Welcome: <%= current_user.email %></h3>

<% else %>

<div class="jumbotron">
  
  <h2>Welcome to the Photo Management App!</h2>
  
  <p class="lead">
    
    You'll love managing your Photos with our application. Sign up!
  
  </p>

</div>

<div class="row">
  
  <div class="plans clearfix">
    
    <div class="col-lg-3 col-lg-offset-3 plan">
      
      <h2>Premium Plan</h2>
      
      <div class="price pull-right">
        
	Price: $10
      
      </div>
      
      <div class="features">
        
	<ul>
          
	  <li>Unlimited Image Uploads</li>
          
	  <li>Responsive design</li>
          
	  <li>Access anywhere</li>
        
	</ul>
      
      </div>
      
      <p>
        
	<%= link_to 'Sign Up', new_user_registration_path, class: 'btn btn-primary sign-up' %>
      
      </p>
    
    </div>
    
    <div class="col-lg-3 plan">
      
      <h2>Amaze Plan</h2>
      
      <div class="price pull-right">
        
	Price: $20
      
      </div>
      
      <div class="features">
        
      <ul>
          
	<li>Unlimited Image Uploads</li>
          
	<li>Responsive design</li>
          
	<li>Access anywhere</li>
          
	<li class='extra'>Unlimited projects</li>
        
      </ul>
      
    </div>
      
    <p>
        
      <%= link_to 'Sign Up', new_user_registration_path, class: 'btn btn-primary sign-up' %>
      
    </p>
    
   </div>
  
 </div>

</div>

<% end %>

.features {
  ul {
    margin-left: 0;
    padding-left: 15px;
  }
}

.jumbotron {
  text-align: center;
  background-image: asset-url('IMG_4225.JPG');
  background-size: cover;
  color: #fff;
  font-family: 'Helvetica Neue' !important;
  font-stretch: expanded;
  padding-top: 25px;
  padding-bottom: 25px;
  margin-left: 15px;
  margin-right: 15px;
  text-shadow: -1px 0 #555, 0 1px #555, 1px 0 #555, 0 -1px #555;
/*
h2 {
  font-size: 35px !important;
    .lead {
      font-family: 'Helvetica Neue' !important;
      font-size: 30px !important;
    }
}
*/
}

.no-left-padding {
  padding-left: 0 !important;
}

.listing {
  list-style: none;
  padding-left: 0;
}











																																	